encoding  utf-8
source settings.th

# SELECT
  # Use "select" to pick out those maps from settings.th that will be included in the cave survey
  # The list below is maps consisting of scraps, and controls the order of layers in the PDF:
  select mountaineye1@data
  select mountaineye2@data
  select mountaineye3@data
  select mountaineye4@data
  select mountaineye5@data
  select mountaineye20@data
  select mountaineye21@data
  select mountaineye22@data
  select mountaineye23@data 

# The list below is maps consisting of surveys (center line and stations):
  select surcenterline@data

# Exports Independant of Layout
  export database                       -o export\MountaineyeDatabase.sql
  export database                       -o export\MountaineyeDatabase.csv
  export cave-list -location on         -o export\MountaineyeCaves.html
  export survey-list                    -o export\MountaineyeSurveys.html
  export continuation-list -filter off  -o export\MountaineyeQuestions.html
  #export continuation-list -filter off -o export\MountaineyeQuestions.txt
  #export continuation-list -filter off -o export\MountaineyeQuestions.dbf
  #export continuation-list -filter off -o export\MountaineyeQuestions.kml
  #export model                         -o export\MountaineyeModel.lox
  #export model -format compass         -o export\MountaineyeModel.plt
  #export model -format survex          -o export\MountaineyeModel.3d
  #export model -format kml             -o export\MountaineyeModel.kml
  #export map -format kml               -o export\MountaineyeMap1.kml
  #export map -format xvi               -o export\MountaineyeMap1.xvi # scale 100 DPI and grid 1 meter.
  export map -format survex             -o export\MountaineyeMap1.3d
  
# Exports Independant of Layout
  # Survey based on LAYOUT2:
  export map                    -o export\MountaineyeMap2.pdf -layout Layout2

  # Survey based on DEBUG-Survey layout:
  #export map                    -o export\MountaineyeDebug.pdf -layout Debug

#inject standard code for layouts
  input ..\..\CodeLibrary\_layouts.mp        # custom Metapost
  input ..\..\CodeLibrary\_layouts.tex       # custom tex
  input ..\..\CodeLibrary\_layouts.thc       # custom layouts 

# LAYOUT2
layout Layout2
  scale 1 1000				    # Sets the scale for / on exported maps. Default is 1: 200.
  base-scale 1 100 				    # Customize font size this basic scale. Then enough to change the scale, ie without changing the font size
  doc-title "Mountain eye cave"     # Tagged in the PDF file
  doc-author "Mountain eye cavers"  # Tagged in the PDF file
  symbol-show group centerline
  # debug station-names               # Displays all station names

  #Foreground color - turn on altitdude to see various heights
  #colour map-fg [80 80 80]
  color map-fg altitude
  #color-legend on
  #colour map-bg [70 90 70]
  #sketches on 

  symbol-hide line survey         # Hides the center line, including small centerline bits around the drives
  symbol-hide point station      # Hides the symbol and name at the stations
  
 ### index of file options from _layouts.mp
    copy custom_water_blue
    #copy custom_entrance_theta
    #copy custom_entrance_theta_large
    copy custom_scalebar_large_format
    #copy custom_scalebar_medium_format
    #copy custom_scalebar
    copy custom_legend_large_format
    #copy custom_legend_large_format_5U
    #copy custom_legend_large_format_20U
    copy custom_grid_2_continuous
    #copy custom_centerline_2_continuous
    copy custom_bats
    #copy custom_north_arrow_150
    #copy custom_north_arrow_300
    copy custom_north_arrow_600
    #copy custom_northarrow_large
    copy custom_line_doline
  
  ### index of file options from _layouts.tex
    copy custom_colorlegendbox
    copy custom_legendsymbolbox
    #copy custom_title_area_format
    #copy custom_title_area_format_20
    #copy custom_title_area_format_1000
    #copy custom_logos

  ### index of file options from _layouts.thc
    copy custom_symbols
    copy custom_color
    #copy custom_large_odessa
    #copy custom_small_odessa

###################################################################
#
# MM    MM EEEEEEE TTTTTTT   AAA   PPPPPP   OOOOO   SSSSS  TTTTTTT 
# MMM  MMM EE        TTT    AAAAA  PP   PP OO   OO SS        TTT   
# MM MM MM EEEEE     TTT   AA   AA PPPPPP  OO   OO  SSSSS    TTT   
# MM    MM EE        TTT   AAAAAAA PP      OO   OO      SS   TTT   
# MM    MM EEEEEEE   TTT   AA   AA PP       OOOO0   SSSSS    TTT  
#
###################################################################

  code metapost
    
    #change the size of the default fonts
    #fonts_setup(<tinysize>,<smallsize>,<normalsize>,<largesize>,<hugesize>);
    #origional fonts_setup(6,8,10,14,20);
    #fonts_setup(6,8,30,54,80);
    fonts_setup(0.01,8,30,54,80);
    
  endcode      
  
endlayout

# LAYOUT for DEBUG-Survey
layout Debug
  debug on
  scale 1 1000					# Angir målestokk for/på eksportert kart. Default er 1:200. Tjorve må minst 1:300
  base-scale 1 500 				# Tilpass skriftstørrelse denne basisskalaen. Deretter tilstrekkelig å endre på scale, dvs uten å endre skriftstørrelsen
  colour map-fg [100 100 100]	# Angir fargen på grottegulvet eks 100 = hvit
  colour map-bg [60 60 60]		# Angir fargen utenfor grotten (bakgrunnen) eks [70 90 70]
endlayout
